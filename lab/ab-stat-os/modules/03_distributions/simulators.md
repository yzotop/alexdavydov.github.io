# Симулятор — Distribution Playground

**Файл:** `simulators/distribution_playground/index.html`

## Что делает симулятор

Distribution Playground генерирует синтетические данные для двух групп A/B-теста, визуализирует их распределение и показывает, как форма данных влияет на выбор подхода.

Вы задаёте параметры (тип метрики, zero inflation, тяжесть хвоста, размер выборки, эффект) — симулятор строит гистограмму, показывает ключевые статистики и выдаёт рекомендацию.

## Как использовать

1. Выберите тип метрики (proportion / per-user / ratio / conditional)
2. Настройте слайдеры: zero inflation, тяжесть хвоста, размер выборки, % lift
3. Нажмите **«Сгенерировать»**
4. Изучите гистограмму, статистики и рекомендацию
5. Меняйте параметры и наблюдайте, как меняется рекомендация

## Три миссии

### Миссия 1: Увидеть, как heavy tail убивает t-test

1. Выберите per_user, zero inflation = 0, tail = 0.2 (умеренный), N = 5000, lift = 5%.
2. Посмотрите на гистограмму — лёгкий правый хвост.
3. Увеличьте tail до 0.9.
4. Гистограмма растягивается вправо. Среднее >> медианы. Рекомендация переключается на bootstrap.
5. **Вывод:** одна и та же метрика при разной степени heavy tail требует разного подхода.

### Миссия 2: Понять эффект zero inflation на power

1. Выберите per_user, tail = 0.3, zero inflation = 0, N = 10 000, lift = 5%.
2. Посмотрите на % нулей и рекомендацию.
3. Увеличьте zero inflation до 0.8.
4. Гистограмма: огромный столбец в нуле. Рекомендация: разделить на CR + среднее среди ненулевых.
5. **Вывод:** zero inflation разбавляет эффект — разделение метрики мощнее.

### Миссия 3: Proportion vs per-user — разная форма, разный тест

1. Выберите proportion, N = 20 000, lift = 5%.
2. Гистограмма: два столбца (0 и 1). Рекомендация: z-test.
3. Переключите на per_user, тот же N и lift.
4. Гистограмма: непрерывная, со скосом. Рекомендация: t-test или bootstrap.
5. **Вывод:** тип метрики определяет форму, форма определяет тест.

## Связь с лекцией

Симулятор визуализирует все формы из секции 2 лекции (Bernoulli, counts, time, money, zero-inflated, mixtures). Каждый ползунок соответствует диагностическому вопросу из секции 3 (есть ли масса в нуле? есть ли тяжёлый хвост?). Рекомендация соответствует таблице из секции 5.
