<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pie charts во времени: почему они ломают сравнение — Графики в аналитике и принятии решений</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Helvetica Neue', Arial, sans-serif;
            line-height: 1.6;
            color: #1a1a1a;
            background-color: #ffffff;
            padding: 3rem 1rem;
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
        }

        .back-to-module {
            display: inline-block;
            margin-bottom: 1rem;
            color: #666;
            text-decoration: none;
            font-size: 0.9rem;
            transition: color 0.2s ease;
        }

        .back-to-module:hover {
            color: #1a1a1a;
        }

        .kicker {
            font-size: 0.85rem;
            font-weight: 500;
            text-transform: uppercase;
            letter-spacing: 0.1em;
            color: #666;
            margin-bottom: 0.5rem;
        }

        h1 {
            font-size: 2rem;
            font-weight: 400;
            margin-bottom: 0.5rem;
            color: #1a1a1a;
        }

        .subtitle {
            font-size: 1rem;
            font-weight: 400;
            color: #666;
            margin-bottom: 3rem;
            font-style: italic;
        }

        .context-section {
            max-width: 700px;
            margin-bottom: 3rem;
        }

        .context-section p {
            font-size: 0.95rem;
            line-height: 1.7;
            color: #1a1a1a;
            margin-bottom: 1rem;
        }

        .context-section ul {
            list-style: none;
            padding-left: 0;
            margin-top: 1rem;
        }

        .context-section li {
            font-size: 0.95rem;
            line-height: 1.7;
            color: #1a1a1a;
            margin-bottom: 0.75rem;
            padding-left: 1.5rem;
            position: relative;
        }

        .context-section li:before {
            content: "•";
            position: absolute;
            left: 0;
            color: #666;
        }

        h2 {
            font-size: 1.3rem;
            font-weight: 400;
            margin-top: 3rem;
            margin-bottom: 1.5rem;
            color: #1a1a1a;
        }

        h2:first-of-type {
            margin-top: 0;
        }

        .before-section, .after-section {
            max-width: 700px;
            margin-bottom: 3rem;
        }

        .visual-block {
            margin-bottom: 2rem;
            padding: 2rem;
            background: #fafafa;
            border: 1px solid #e8e8e8;
            border-radius: 6px;
        }

        .visual-block-title {
            font-size: 1.2rem;
            font-weight: 500;
            margin-bottom: 1.5rem;
            color: #1a1a1a;
        }

        .visual-block-caption {
            font-size: 0.85rem;
            color: #666;
            font-style: italic;
            margin-top: 1rem;
            text-align: center;
        }

        .mini-graph {
            margin: 1.5rem 0;
            text-align: center;
        }

        .mini-graph svg {
            max-width: 100%;
            height: auto;
        }

        .reasons-section {
            max-width: 700px;
            margin-bottom: 3rem;
        }

        .reason-item {
            margin-bottom: 2rem;
            padding: 1.5rem;
            background: #fafafa;
            border: 1px solid #e8e8e8;
            border-radius: 6px;
        }

        .reason-item:last-child {
            margin-bottom: 0;
        }

        .reason-number {
            display: inline-block;
            width: 2rem;
            height: 2rem;
            line-height: 2rem;
            text-align: center;
            background: #1a1a1a;
            color: #ffffff;
            border-radius: 50%;
            font-size: 0.9rem;
            font-weight: 500;
            margin-right: 1rem;
            vertical-align: top;
        }

        .reason-content {
            display: inline-block;
            width: calc(100% - 3.5rem);
            vertical-align: top;
        }

        .reason-content h3 {
            font-size: 1.1rem;
            font-weight: 500;
            margin-bottom: 0.75rem;
            color: #1a1a1a;
        }

        .reason-content p {
            font-size: 0.95rem;
            line-height: 1.7;
            color: #1a1a1a;
        }

        .decision-impact {
            max-width: 700px;
            margin-bottom: 3rem;
        }

        .decision-item {
            margin-bottom: 2rem;
            padding: 1.5rem;
            background: #fafafa;
            border: 1px solid #e8e8e8;
            border-radius: 6px;
        }

        .decision-item:last-child {
            margin-bottom: 0;
        }

        .wrong-decision {
            margin-top: 1rem;
            padding: 1rem;
            background: #fff5f5;
            border-left: 3px solid #d32f2f;
            border-radius: 3px;
        }

        .wrong-decision strong {
            color: #d32f2f;
            font-weight: 500;
        }

        .wrong-decision p {
            font-size: 0.9rem;
            line-height: 1.6;
            color: #1a1a1a;
            margin-bottom: 0.5rem;
        }

        .wrong-decision p:last-child {
            margin-bottom: 0;
        }

        .right-decision {
            margin-top: 1rem;
            padding: 1rem;
            background: #f0f9ff;
            border-left: 3px solid #0284c7;
            border-radius: 3px;
        }

        .right-decision strong {
            color: #0284c7;
            font-weight: 500;
        }

        .right-decision p {
            font-size: 0.9rem;
            line-height: 1.6;
            color: #1a1a1a;
            margin-bottom: 0.5rem;
        }

        .right-decision p:last-child {
            margin-bottom: 0;
        }

        .extracted-rule {
            max-width: 700px;
            margin-bottom: 3rem;
            padding: 2rem;
            background: #fafafa;
            border: 2px solid #1a1a1a;
            border-radius: 6px;
        }

        .extracted-rule h2 {
            margin-top: 0;
            font-size: 1.2rem;
            font-weight: 500;
            margin-bottom: 1rem;
            color: #1a1a1a;
        }

        .extracted-rule p {
            font-size: 1rem;
            line-height: 1.7;
            color: #1a1a1a;
            font-weight: 400;
        }

        .self-check {
            max-width: 700px;
            margin-bottom: 3rem;
            padding: 1.5rem;
            background: #fafafa;
            border: 1px solid #e8e8e8;
            border-radius: 6px;
        }

        .self-check h2 {
            margin-top: 0;
            font-size: 1.2rem;
            font-weight: 500;
            margin-bottom: 1rem;
            color: #1a1a1a;
        }

        .self-check ul {
            list-style: none;
            padding-left: 0;
        }

        .self-check li {
            font-size: 0.95rem;
            line-height: 1.7;
            color: #1a1a1a;
            margin-bottom: 0.75rem;
            padding-left: 1.5rem;
            position: relative;
        }

        .self-check li:before {
            content: "□";
            position: absolute;
            left: 0;
            color: #666;
            font-size: 1rem;
        }
    </style>
</head>
<body>
    <div class="container">
        <a href="../../index.html" class="back-to-module">← К курсу</a>

        <header>
            <div class="kicker">Урок 4.1 / Модуль 4</div>
            <h1>Почему pie charts ломают сравнение во времени</h1>
            <p class="subtitle">Когда форма визуализации разрушает понимание динамики эффекта</p>
        </header>

        <main>
            <section class="context-section">
                <h2>Контекст</h2>
                <p>
                    В аналитике часто возникает задача показать, как меняется метрика, выраженная в долях или процентах, во времени. Это может быть распределение источников трафика, структура выручки по категориям, share форматов рекламы, сегменты пользователей или любые другие доли.
                </p>
                <p>
                    Аналитик хочет ответить на вопрос: «Как изменилось распределение? Растёт ли доля одного источника, падает ли доля другого? Есть ли тренд или изменения случайны?»
                </p>
                <p>
                    Часто для этого используются pie charts: один график «до», другой «после», или несколько pie charts по дням или неделям. Графики выглядят корректно, данные верны, но выводы противоречивые или неочевидные. Проблема не в данных, а в форме представления.
                </p>
            </section>

            <section class="before-section">
                <h2>ДО: pie charts во времени</h2>
                <div class="visual-block">
                    <div class="visual-block-title">Попытка сравнения через pie charts</div>
                    <div class="mini-graph">
                        <svg width="600" height="300" viewBox="0 0 600 300" xmlns="http://www.w3.org/2000/svg">
                            <!-- Pie chart 1 (Day 1) -->
                            <g transform="translate(100, 150)">
                                <circle cx="0" cy="0" r="60" fill="none" stroke="#e8e8e8" stroke-width="2"/>
                                <path d="M 0,0 L 0,-60 A 60,60 0 0,1 42.43,-42.43 Z" fill="#1a1a1a" opacity="0.6"/>
                                <path d="M 0,0 L 42.43,-42.43 A 60,60 0 0,1 60,0 Z" fill="#666" opacity="0.6"/>
                                <path d="M 0,0 L 60,0 A 60,60 0 0,1 0,60 Z" fill="#999" opacity="0.6"/>
                                <text x="0" y="80" font-size="12" fill="#666" text-anchor="middle">День 1</text>
                            </g>
                            <!-- Pie chart 2 (Day 2) -->
                            <g transform="translate(250, 150)">
                                <circle cx="0" cy="0" r="60" fill="none" stroke="#e8e8e8" stroke-width="2"/>
                                <path d="M 0,0 L 0,-60 A 60,60 0 0,1 30,-51.96 Z" fill="#1a1a1a" opacity="0.6"/>
                                <path d="M 0,0 L 30,-51.96 A 60,60 0 0,1 51.96,-30 Z" fill="#666" opacity="0.6"/>
                                <path d="M 0,0 L 51.96,-30 A 60,60 0 0,1 0,60 Z" fill="#999" opacity="0.6"/>
                                <text x="0" y="80" font-size="12" fill="#666" text-anchor="middle">День 2</text>
                            </g>
                            <!-- Pie chart 3 (Day 3) -->
                            <g transform="translate(400, 150)">
                                <circle cx="0" cy="0" r="60" fill="none" stroke="#e8e8e8" stroke-width="2"/>
                                <path d="M 0,0 L 0,-60 A 60,60 0 0,1 20,-56.57 Z" fill="#1a1a1a" opacity="0.6"/>
                                <path d="M 0,0 L 20,-56.57 A 60,60 0 0,1 42.43,-42.43 Z" fill="#666" opacity="0.6"/>
                                <path d="M 0,0 L 42.43,-42.43 A 60,60 0 0,1 0,60 Z" fill="#999" opacity="0.6"/>
                                <text x="0" y="80" font-size="12" fill="#666" text-anchor="middle">День 3</text>
                            </g>
                            <!-- Arrow between charts -->
                            <line x1="160" y1="150" x2="190" y2="150" stroke="#999" stroke-width="2" marker-end="url(#arrowhead)"/>
                            <line x1="310" y1="150" x2="340" y2="150" stroke="#999" stroke-width="2" marker-end="url(#arrowhead)"/>
                            <defs>
                                <marker id="arrowhead" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
                                    <polygon points="0 0, 10 3, 0 6" fill="#999"/>
                                </marker>
                            </defs>
                            <!-- Question marks -->
                            <text x="300" y="50" font-size="14" fill="#d32f2f" text-anchor="middle">Как изменилось?</text>
                            <text x="300" y="70" font-size="12" fill="#666" text-anchor="middle">Сравнение углов и площадей</text>
                        </svg>
                    </div>
                    <div class="visual-block-caption">
                        Pie chart показывает срез, но не показывает изменение.
                    </div>
                </div>
                <p style="font-size: 0.95rem; line-height: 1.7; color: #1a1a1a; max-width: 700px;">
                    Несколько pie charts по датам или периодам создают визуальное впечатление сравнения, но на самом деле требуют от читателя вручную сравнивать углы и площади между несвязанными графиками. Каждый pie chart — это отдельная картинка без связи с предыдущей.
                </p>
            </section>

            <section class="reasons-section">
                <h2>Почему это не работает</h2>
                
                <div class="reason-item">
                    <span class="reason-number">1</span>
                    <div class="reason-content">
                        <h3>Pie chart не сохраняет непрерывность времени</h3>
                        <p>
                            Каждый график — отдельная картинка без связи с предыдущей. Время представлено как набор дискретных срезов, а не как непрерывный процесс. Читатель не видит, как одна доля переходит в другую, как меняется скорость изменения, есть ли тренд или колебания случайны.
                        </p>
                    </div>
                </div>

                <div class="reason-item">
                    <span class="reason-number">2</span>
                    <div class="reason-content">
                        <h3>Человек плохо сравнивает углы и площади</h3>
                        <p>
                            Визуальное сравнение углов и площадей между разными pie charts требует значительных когнитивных усилий и часто приводит к ошибкам. Малые изменения выглядят случайными или незаметными, даже если они значимы для решения. Читатель не может быстро ответить на вопрос «растёт или падает?»
                        </p>
                    </div>
                </div>

                <div class="reason-item">
                    <span class="reason-number">3</span>
                    <div class="reason-content">
                        <h3>Невозможно увидеть тренд, скорость изменения и направление</h3>
                        <p>
                            Pie chart отвечает на вопрос «из чего состоит сейчас», но не отвечает на вопрос «как это менялось». График не показывает направление изменения (растёт или падает), скорость изменения (быстро или медленно), стабильность тренда (устойчивый или колеблющийся). Эти вопросы критичны для принятия решения, но pie chart их скрывает.
                        </p>
                    </div>
                </div>
            </section>

            <section class="after-section">
                <h2>ПОСЛЕ: корректная форма</h2>
                <div class="visual-block">
                    <div class="visual-block-title">Форма, поддерживающая временное рассуждение</div>
                    <div class="mini-graph">
                        <svg width="600" height="300" viewBox="0 0 600 300" xmlns="http://www.w3.org/2000/svg">
                            <!-- Time axis -->
                            <line x1="50" y1="250" x2="550" y2="250" stroke="#999" stroke-width="2"/>
                            <text x="50" y="270" font-size="11" fill="#666">День 1</text>
                            <text x="300" y="270" font-size="11" fill="#666" text-anchor="middle">День 2</text>
                            <text x="550" y="270" font-size="11" fill="#666" text-anchor="end">День 3</text>
                            <!-- Y axis (0-100%) -->
                            <line x1="50" y1="50" x2="50" y2="250" stroke="#999" stroke-width="1"/>
                            <text x="30" y="255" font-size="10" fill="#666">0%</text>
                            <text x="30" y="155" font-size="10" fill="#666">50%</text>
                            <text x="30" y="55" font-size="10" fill="#666">100%</text>
                            <!-- Stacked area chart -->
                            <!-- Bottom segment (gray) -->
                            <path d="M 50,200 L 300,180 L 550,160 L 550,250 L 300,250 L 50,250 Z" fill="#999" opacity="0.6"/>
                            <!-- Middle segment (dark gray) -->
                            <path d="M 50,150 L 300,140 L 550,130 L 550,180 L 300,180 L 50,200 Z" fill="#666" opacity="0.6"/>
                            <!-- Top segment (black) -->
                            <path d="M 50,100 L 300,90 L 550,80 L 550,130 L 300,140 L 50,150 Z" fill="#1a1a1a" opacity="0.6"/>
                            <!-- Labels -->
                            <text x="100" y="75" font-size="11" fill="#1a1a1a">Источник A</text>
                            <text x="100" y="125" font-size="11" fill="#666">Источник B</text>
                            <text x="100" y="175" font-size="11" fill="#999">Источник C</text>
                            <!-- Trend indicators -->
                            <text x="300" y="40" font-size="12" fill="#0284c7" text-anchor="middle">Тренд виден</text>
                            <text x="300" y="55" font-size="11" fill="#666" text-anchor="middle">Направление и скорость изменения</text>
                        </svg>
                    </div>
                    <div class="visual-block-caption">
                        Stacked area chart показывает изменение как непрерывный процесс.
                    </div>
                </div>
                <p style="font-size: 0.95rem; line-height: 1.7; color: #1a1a1a; max-width: 700px; margin-top: 1rem;">
                    Альтернативные формы — stacked area chart, line chart по долям, small multiples с общей осью — сохраняют непрерывность времени и показывают изменение как процесс. Читатель видит направление изменения, скорость, тренд и может быстро ответить на вопрос «растёт или падает?» Форма поддерживает временное рассуждение, а не только показывает состав.
                </p>
            </section>

            <section class="decision-impact">
                <h2>Влияние на решение</h2>
                
                <div class="decision-item">
                    <div class="wrong-decision">
                        <p><strong>Неправильное решение:</strong> Делать выводы о «стабильности» или «резких изменениях» на основе визуального впечатления от pie charts. Использовать pie charts для временных сравнений, потому что «так нагляднее» или «так принято». Игнорировать необходимость видеть тренд и направление изменения.</p>
                    </div>
                    <div class="right-decision">
                        <p><strong>Правильное решение:</strong> Выбирать форму визуализации, где изменение видно как процесс, а не как набор несвязанных срезов. Использовать stacked area chart, line chart по долям или другие формы, которые сохраняют непрерывность времени и показывают направление и скорость изменения. Форма должна поддерживать временное рассуждение.</p>
                    </div>
                </div>
            </section>

            <section class="extracted-rule">
                <h2>Извлечённое правило</h2>
                <p>
                    Pie chart подходит для ответа на вопрос «из чего состоит сейчас». Он не подходит для ответа на вопрос «как это менялось». Если в аналитическом вопросе есть время — pie chart ломает сравнение, потому что уничтожает временное мышление. Форма визуализации должна поддерживать тип рассуждения, который требуется для принятия решения.
                </p>
            </section>

            <section class="self-check">
                <h2>Проверка решения</h2>
                <ul>
                    <li>Есть ли на графике непрерывность времени, или время представлено как набор дискретных срезов?</li>
                    <li>Можно ли увидеть направление и скорость изменения, или приходится вручную сравнивать углы и площади?</li>
                    <li>Не приходится ли сравнивать углы и площади вручную между разными pie charts?</li>
                </ul>
            </section>
        </main>
    </div>
</body>
</html>

