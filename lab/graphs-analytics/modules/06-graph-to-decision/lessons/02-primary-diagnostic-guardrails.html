<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Primary, Diagnostic и Guardrails: как визуально расставить приоритеты — Графики в аналитике и принятии решений</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Helvetica Neue', Arial, sans-serif;
            line-height: 1.6;
            color: #1a1a1a;
            background-color: #ffffff;
            padding: 3rem 1rem;
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
        }

        .back-to-module {
            display: inline-block;
            margin-bottom: 1rem;
            color: #666;
            text-decoration: none;
            font-size: 0.9rem;
            transition: color 0.2s ease;
        }

        .back-to-module:hover {
            color: #1a1a1a;
        }

        .kicker {
            font-size: 0.85rem;
            font-weight: 500;
            text-transform: uppercase;
            letter-spacing: 0.1em;
            color: #666;
            margin-bottom: 0.5rem;
        }

        h1 {
            font-size: 2rem;
            font-weight: 400;
            margin-bottom: 0.5rem;
            color: #1a1a1a;
        }

        .subtitle {
            font-size: 1rem;
            font-weight: 400;
            color: #666;
            margin-bottom: 3rem;
            font-style: italic;
        }

        .context-section {
            max-width: 700px;
            margin-bottom: 3rem;
        }

        .context-section p {
            font-size: 0.95rem;
            line-height: 1.7;
            color: #1a1a1a;
            margin-bottom: 1rem;
        }

        .context-section ul {
            list-style: none;
            padding-left: 0;
            margin-top: 1rem;
        }

        .context-section li {
            font-size: 0.95rem;
            line-height: 1.7;
            color: #1a1a1a;
            margin-bottom: 0.75rem;
            padding-left: 1.5rem;
            position: relative;
        }

        .context-section li:before {
            content: "•";
            position: absolute;
            left: 0;
            color: #666;
        }

        h2 {
            font-size: 1.3rem;
            font-weight: 400;
            margin-top: 3rem;
            margin-bottom: 1.5rem;
            color: #1a1a1a;
        }

        h2:first-of-type {
            margin-top: 0;
        }

        .before-section, .after-section {
            max-width: 700px;
            margin-bottom: 3rem;
        }

        .visual-block {
            margin-bottom: 2rem;
            padding: 2rem;
            background: #fafafa;
            border: 1px solid #e8e8e8;
            border-radius: 6px;
        }

        .visual-block-title {
            font-size: 1.2rem;
            font-weight: 500;
            margin-bottom: 1.5rem;
            color: #1a1a1a;
        }

        .visual-block-caption {
            font-size: 0.85rem;
            color: #666;
            font-style: italic;
            margin-top: 1rem;
            text-align: center;
        }

        .mini-graph {
            margin: 1.5rem 0;
            text-align: center;
        }

        .mini-graph svg {
            max-width: 100%;
            height: auto;
        }

        .reasons-section {
            max-width: 700px;
            margin-bottom: 3rem;
        }

        .reason-item {
            margin-bottom: 2rem;
            padding: 1.5rem;
            background: #fafafa;
            border: 1px solid #e8e8e8;
            border-radius: 6px;
        }

        .reason-item:last-child {
            margin-bottom: 0;
        }

        .reason-number {
            display: inline-block;
            width: 2rem;
            height: 2rem;
            line-height: 2rem;
            text-align: center;
            background: #1a1a1a;
            color: #ffffff;
            border-radius: 50%;
            font-size: 0.9rem;
            font-weight: 500;
            margin-right: 1rem;
            vertical-align: top;
        }

        .reason-content {
            display: inline-block;
            width: calc(100% - 3.5rem);
            vertical-align: top;
        }

        .reason-content h3 {
            font-size: 1.1rem;
            font-weight: 500;
            margin-bottom: 0.75rem;
            color: #1a1a1a;
        }

        .reason-content p {
            font-size: 0.95rem;
            line-height: 1.7;
            color: #1a1a1a;
        }

        .decision-impact {
            max-width: 700px;
            margin-bottom: 3rem;
        }

        .decision-item {
            margin-bottom: 2rem;
            padding: 1.5rem;
            background: #fafafa;
            border: 1px solid #e8e8e8;
            border-radius: 6px;
        }

        .decision-item:last-child {
            margin-bottom: 0;
        }

        .wrong-decision {
            margin-top: 1rem;
            padding: 1rem;
            background: #fff5f5;
            border-left: 3px solid #d32f2f;
            border-radius: 3px;
        }

        .wrong-decision strong {
            color: #d32f2f;
            font-weight: 500;
        }

        .wrong-decision p {
            font-size: 0.9rem;
            line-height: 1.6;
            color: #1a1a1a;
            margin-bottom: 0.5rem;
        }

        .wrong-decision p:last-child {
            margin-bottom: 0;
        }

        .right-decision {
            margin-top: 1rem;
            padding: 1rem;
            background: #f0f9ff;
            border-left: 3px solid #0284c7;
            border-radius: 3px;
        }

        .right-decision strong {
            color: #0284c7;
            font-weight: 500;
        }

        .right-decision p {
            font-size: 0.9rem;
            line-height: 1.6;
            color: #1a1a1a;
            margin-bottom: 0.5rem;
        }

        .right-decision p:last-child {
            margin-bottom: 0;
        }

        .extracted-rule {
            max-width: 700px;
            margin-bottom: 3rem;
            padding: 2rem;
            background: #fafafa;
            border: 2px solid #1a1a1a;
            border-radius: 6px;
        }

        .extracted-rule h2 {
            margin-top: 0;
            font-size: 1.2rem;
            font-weight: 500;
            margin-bottom: 1rem;
            color: #1a1a1a;
        }

        .extracted-rule p {
            font-size: 1rem;
            line-height: 1.7;
            color: #1a1a1a;
            font-weight: 400;
        }

        .self-check {
            max-width: 700px;
            margin-bottom: 3rem;
            padding: 1.5rem;
            background: #fafafa;
            border: 1px solid #e8e8e8;
            border-radius: 6px;
        }

        .self-check h2 {
            margin-top: 0;
            font-size: 1.2rem;
            font-weight: 500;
            margin-bottom: 1rem;
            color: #1a1a1a;
        }

        .self-check ul {
            list-style: none;
            padding-left: 0;
        }

        .self-check li {
            font-size: 0.95rem;
            line-height: 1.7;
            color: #1a1a1a;
            margin-bottom: 0.75rem;
            padding-left: 1.5rem;
            position: relative;
        }

        .self-check li:before {
            content: "□";
            position: absolute;
            left: 0;
            color: #666;
            font-size: 1rem;
        }
    </style>
</head>
<body>
    <div class="container">
        <a href="../../index.html" class="back-to-module">← К курсу</a>

        <header>
            <div class="kicker">Урок 6.2 / Модуль 6</div>
            <h1>Как визуально расставлять приоритеты метрик</h1>
            <p class="subtitle">Когда все метрики важны — ни одна не помогает принять решение</p>
        </header>

        <main>
            <section class="context-section">
                <h2>Контекст</h2>
                <p>
                    В эксперименте или продуктовом решении есть несколько метрик: основная, которая определяет решение, вспомогательные, которые помогают интерпретировать результат, и ограничивающие, которые задают условия допустимости. Но часто все они показаны одинаково, без визуального указания их ролей.
                </p>
                <p>
                    Типичные кейсы, где роли метрик скрыты:
                </p>
                <ul>
                    <li>Итоги A/B-тестов: revenue (primary), conversion (diagnostic), retention (guardrail) — все показаны равноправно</li>
                    <li>Решения о выкладке фичи: engagement (primary), satisfaction (diagnostic), performance (guardrail)</li>
                    <li>Монетизационные эксперименты: RPM (primary), CPM (diagnostic), margin (guardrail)</li>
                    <li>Продуктовые апдейты: activation (primary), retention (diagnostic), churn (guardrail)</li>
                </ul>
                <p>
                    Проблема не в данных, а в том, что разные метрики выполняют разные роли в принятии решения, и если эти роли не показаны визуально, график не поддерживает выбор. Primary, Diagnostic и Guardrails — это не термины, а роли метрик в решении. Если эти роли не показаны визуально, читатель не понимает, по какой метрике принимается решение.
                </p>
            </section>

            <section class="before-section">
                <h2>ДО: метрики без ролей</h2>
                <div class="visual-block">
                    <div class="visual-block-title">Все метрики показаны как равнозначные</div>
                    <div class="mini-graph">
                        <svg width="600" height="300" viewBox="0 0 600 300" xmlns="http://www.w3.org/2000/svg">
                            <!-- Metrics blocks (all equal) -->
                            <g transform="translate(50, 50)">
                                <!-- Row 1 -->
                                <rect x="0" y="0" width="150" height="60" fill="#fafafa" stroke="#e8e8e8" stroke-width="1" rx="4"/>
                                <text x="75" y="25" font-size="12" fill="#1a1a1a" text-anchor="middle" font-weight="500">Revenue</text>
                                <text x="75" y="45" font-size="16" fill="#1a1a1a" text-anchor="middle" font-weight="500">+2.5%</text>
                                
                                <rect x="170" y="0" width="150" height="60" fill="#fafafa" stroke="#e8e8e8" stroke-width="1" rx="4"/>
                                <text x="245" y="25" font-size="12" fill="#1a1a1a" text-anchor="middle" font-weight="500">Conversion</text>
                                <text x="245" y="45" font-size="16" fill="#1a1a1a" text-anchor="middle" font-weight="500">+0.3%</text>
                                
                                <rect x="340" y="0" width="150" height="60" fill="#fafafa" stroke="#e8e8e8" stroke-width="1" rx="4"/>
                                <text x="415" y="25" font-size="12" fill="#1a1a1a" text-anchor="middle" font-weight="500">Retention</text>
                                <text x="415" y="45" font-size="16" fill="#1a1a1a" text-anchor="middle" font-weight="500">-1.2%</text>
                                
                                <!-- Row 2 -->
                                <rect x="0" y="80" width="150" height="60" fill="#fafafa" stroke="#e8e8e8" stroke-width="1" rx="4"/>
                                <text x="75" y="105" font-size="12" fill="#1a1a1a" text-anchor="middle" font-weight="500">CPM</text>
                                <text x="75" y="125" font-size="16" fill="#1a1a1a" text-anchor="middle" font-weight="500">+1.8%</text>
                                
                                <rect x="170" y="80" width="150" height="60" fill="#fafafa" stroke="#e8e8e8" stroke-width="1" rx="4"/>
                                <text x="245" y="105" font-size="12" fill="#1a1a1a" text-anchor="middle" font-weight="500">Engagement</text>
                                <text x="245" y="125" font-size="16" fill="#1a1a1a" text-anchor="middle" font-weight="500">+5.1%</text>
                                
                                <rect x="340" y="80" width="150" height="60" fill="#fafafa" stroke="#e8e8e8" stroke-width="1" rx="4"/>
                                <text x="415" y="105" font-size="12" fill="#1a1a1a" text-anchor="middle" font-weight="500">Margin</text>
                                <text x="415" y="125" font-size="16" fill="#1a1a1a" text-anchor="middle" font-weight="500">-0.5%</text>
                            </g>
                            <!-- Question -->
                            <text x="300" y="200" font-size="12" fill="#d32f2f" text-anchor="middle">По какой метрике решать?</text>
                            <text x="300" y="215" font-size="11" fill="#666" text-anchor="middle">Все метрики равноправны</text>
                            <text x="300" y="230" font-size="10" fill="#666" text-anchor="middle">Роли метрик скрыты — решение приходится додумывать</text>
                        </svg>
                    </div>
                    <div class="visual-block-caption">
                        Роли метрик скрыты — решение приходится додумывать.
                    </div>
                </div>
                <p style="font-size: 0.95rem; line-height: 1.7; color: #1a1a1a; max-width: 700px;">
                    Primary, diagnostic и guardrails метрики показаны как равнозначные, без визуального указания, какая метрика определяет решение, какая помогает интерпретировать результат, а какая задаёт условия допустимости. Нет визуального выделения ролей метрик, и читатель не понимает, по какой метрике принимается решение, какие метрики помогают понять механизм, а какие ограничивают допустимость.
                </p>
            </section>

            <section class="reasons-section">
                <h2>Почему это не работает</h2>
                
                <div class="reason-item">
                    <span class="reason-number">1</span>
                    <div class="reason-content">
                        <h3>Читатель не понимает, по какой метрике принимается решение</h3>
                        <p>
                            Если все метрики показаны равноправно, читатель не понимает, по какой метрике принимается решение. Primary метрика не выделена, и читатель не знает, на что опираться. Решение становится неопределённым: все метрики выглядят одинаково важными, и непонятно, какая из них определяет выбор. График не поддерживает решение, а создаёт неопределённость.
                        </p>
                    </div>
                </div>

                <div class="reason-item">
                    <span class="reason-number">2</span>
                    <div class="reason-content">
                        <h3>Диагностические метрики начинают конкурировать с основной</h3>
                        <p>
                            Если diagnostic метрики показаны так же, как primary, они начинают конкурировать с основной метрикой. Читатель видит несколько метрик с разными значениями и не понимает, какая из них важнее. Diagnostic метрики должны помогать интерпретировать результат primary, а не конкурировать с ней. Если их роли не показаны визуально, они создают шум и мешают принятию решения.
                        </p>
                    </div>
                </div>

                <div class="reason-item">
                    <span class="reason-number">3</span>
                    <div class="reason-content">
                        <h3>Guardrails воспринимаются как цели, а не как ограничения</h3>
                        <p>
                            Если guardrails метрики показаны так же, как primary, они воспринимаются как цели, а не как ограничения. Читатель видит guardrail метрику с отрицательным значением и думает, что это плохо, хотя guardrail должен только проверять, не нарушено ли ограничение. Guardrails должны задавать условия допустимости, а не конкурировать с primary метрикой. Если их роль не показана визуально, они искажают решение.
                        </p>
                    </div>
                </div>
            </section>

            <section class="after-section">
                <h2>ПОСЛЕ: визуальная иерархия ролей</h2>
                <div class="visual-block">
                    <div class="visual-block-title">Явное выделение ролей метрик</div>
                    <div class="mini-graph">
                        <svg width="600" height="300" viewBox="0 0 600 300" xmlns="http://www.w3.org/2000/svg">
                            <!-- Primary metric (emphasized) -->
                            <g transform="translate(50, 50)">
                                <rect x="0" y="0" width="220" height="80" fill="#f0f9ff" stroke="#0284c7" stroke-width="3" rx="4"/>
                                <text x="110" y="20" font-size="11" fill="#0284c7" text-anchor="middle" font-weight="600">PRIMARY</text>
                                <text x="110" y="40" font-size="13" fill="#1a1a1a" text-anchor="middle" font-weight="500">Revenue</text>
                                <text x="110" y="65" font-size="20" fill="#1a1a1a" text-anchor="middle" font-weight="600">+2.5%</text>
                            </g>
                            
                            <!-- Diagnostic metrics (de-emphasized, grouped) -->
                            <g transform="translate(290, 50)">
                                <rect x="0" y="0" width="260" height="35" fill="#fafafa" stroke="#e8e8e8" stroke-width="1" rx="4" opacity="0.7"/>
                                <text x="10" y="12" font-size="9" fill="#666" font-weight="500">DIAGNOSTIC:</text>
                                <text x="80" y="12" font-size="10" fill="#666">Conversion +0.3%</text>
                                <text x="180" y="12" font-size="10" fill="#666">CPM +1.8%</text>
                                
                                <rect x="0" y="45" width="260" height="35" fill="#fff5f5" stroke="#d32f2f" stroke-width="1" stroke-dasharray="3,3" rx="4" opacity="0.7"/>
                                <text x="10" y="57" font-size="9" fill="#666" font-weight="500">GUARDRAILS:</text>
                                <text x="90" y="57" font-size="10" fill="#d32f2f">Retention -1.2%</text>
                                <text x="200" y="57" font-size="10" fill="#666">Margin -0.5%</text>
                            </g>
                            
                            <!-- Decision structure -->
                            <g transform="translate(50, 150)">
                                <rect x="0" y="0" width="500" height="50" fill="#fafafa" stroke="#0284c7" stroke-width="2" rx="4"/>
                                <text x="250" y="20" font-size="12" fill="#0284c7" text-anchor="middle" font-weight="500">Структура решения</text>
                                <text x="100" y="40" font-size="10" fill="#1a1a1a" text-anchor="middle">Revenue решает</text>
                                <text x="250" y="40" font-size="10" fill="#666" text-anchor="middle">Conversion/CPM объясняют</text>
                                <text x="400" y="40" font-size="10" fill="#d32f2f" text-anchor="middle">Retention/Margin ограничивают</text>
                            </g>
                            
                            <!-- Conclusion -->
                            <text x="300" y="240" font-size="11" fill="#0284c7" text-anchor="middle">Решение: Revenue +2.5%</text>
                            <text x="300" y="255" font-size="10" fill="#666" text-anchor="middle">Роли метрик визуально зафиксированы</text>
                        </svg>
                    </div>
                    <div class="visual-block-caption">
                        График должен визуально отвечать на вопрос: «Что решает, что объясняет, что ограничивает?»
                    </div>
                </div>
                <p style="font-size: 0.95rem; line-height: 1.7; color: #1a1a1a; max-width: 700px; margin-top: 1rem;">
                    Визуальная иерархия ролей явно выделяет Primary-метрику, показывает Diagnostic-метрики как поясняющий слой и Guardrails как ограничения или пороги. График визуально отвечает на вопрос «Что решает, что объясняет, что ограничивает?», а не просто демонстрирует все метрики. Роли метрик визуально зафиксированы, и читатель понимает, по какой метрике принимается решение, какие метрики помогают интерпретировать результат, а какие задают условия допустимости.
                </p>
            </section>

            <section class="decision-impact">
                <h2>Влияние на решение</h2>
                
                <div class="decision-item">
                    <div class="wrong-decision">
                        <p><strong>Неправильные решения:</strong> Блокировать решение из-за вторичных колебаний, потому что diagnostic или guardrail метрики показаны так же, как primary, и их колебания воспринимаются как критичные. Принимать решение не по той метрике, потому что роли метрик не показаны визуально и непонятно, какая метрика определяет выбор. Путать цель и ограничение, воспринимая guardrails как цели, а не как условия допустимости.</p>
                    </div>
                    <div class="right-decision">
                        <p><strong>Правильные решения:</strong> Принимать решение по Primary, потому что график явно показывает, какая метрика определяет выбор. Использовать Diagnostic для интерпретации, понимая их роль как поясняющий слой, а не как конкурирующие цели. Проверять Guardrails как условия допустимости, понимая их роль как ограничения, а не как цели, и не блокируя решение из-за их колебаний, если они не нарушают порог.</p>
                    </div>
                </div>
            </section>

            <section class="extracted-rule">
                <h2>Извлечённое правило</h2>
                <p>
                    Метрики выполняют разные роли. Если график не показывает эти роли, он не поддерживает решение. Primary, Diagnostic и Guardrails — это не термины, а роли метрик в решении. График должен визуально кодировать эти роли, явно выделяя primary метрику, показывая diagnostic как поясняющий слой и guardrails как ограничения. Визуальная иерархия должна отражать логику решения, а не просто показывать все метрики.
                </p>
            </section>

            <section class="self-check">
                <h2>Проверка решения</h2>
                <ul>
                    <li>Ясно ли, какая метрика Primary? Видна ли она сразу на графике как определяющая решение?</li>
                    <li>Понимаю ли я роль остальных метрик? Видно ли, какие метрики помогают интерпретировать результат, а какие задают ограничения?</li>
                    <li>Могу ли я принять решение, не объясняя график устно? Или требуется дополнительное объяснение ролей метрик?</li>
                </ul>
            </section>
        </main>
    </div>
</body>
</html>

