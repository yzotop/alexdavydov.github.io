# STYLE_GUIDE_CURSOR.md
Версия: 0.1 (living doc)

Цель: чтобы Cursor генерировал страницы, графики и калькуляторы в одном стиле — чисто, светло, канонично, без визуального шума.

## 0. Главный принцип
Сначала смысл → потом форма.  
На странице всегда должно быть понятно:
1) что моделируется  
2) где «сейчас»  
3) что будет при изменении параметров  
4) почему получился такой эффект

## 1. Канонический визуальный стиль
- Фон страницы: белый (#ffffff) или очень светло-серый (#f7f7f8)
- Карточки: белые, рамка #e6e6e8, border-radius 12–14px
- Много воздуха, отступы 20–24px
- Никаких тёмных тем

## 2. Цвета и семантика
- Зелёный — рост / положительный вклад
- Красный — падение / отрицательный вклад
- Серый — нейтральные элементы
Цвет используется только как носитель смысла, не как украшение.

## 3. Типографика
- H1 — крупный, жирный
- Подзаголовок — серый, поясняющий
- Главная метрика — самая крупная на странице
- «Детали расчёта» — вторичны, могут быть свернуты

## 4. Графики
Использовать D3.js, если график:
- интерактивный
- реагирует на ползунки
- показывает несколько сценариев
- имеет точки current / 100%
- имеет вклад факторов

Оси и сетка — тонкие, ненавязчивые.  
Легенды заменять подписями рядом с линиями/барами.

## 5. Канонические паттерны калькуляторов
Две колонки:
Слева — параметры с базовыми значениями  
Справа — результат и интерпретация

Всегда:
- текущая выручка
- Δ к базе
- короткий текст «что происходит»

## 6. Денежная воронка
Использовать только:
- Requests
- Fill rate = responses / requests
- Show rate = monet_shows / responses
- CPM

CTR и клики не использовать, если они не участвуют в расчёте выручки.

## 7. Контроль vs тест
Отдельная карточка:
- вклад каждого шага в ₽
- зелёный / красный цвет
- строка «Итого»
- одна фраза-инсайт (почему итог такой)

## 8. Sanity-checks
Обязательно:
- база = база → Δ = 0
- падение Fill / Show → падение выручки
- рост CPM → рост выручки
- никаких NaN / Infinity
- проценты в диапазоне 0–100

## 9. Приватность
Реальные тесты и цифры не использовать в main.
Каталог `real_tests/` допустим только в ветке `real-tests`.

## 10. Done-definition
Страница готова, если:
- результат читается за 1 секунду
- график понятен без объяснений
- крайние значения не ломают расчёт
- есть короткий текст-интерпретация

